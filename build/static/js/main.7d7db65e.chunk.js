(this["webpackJsonpwho-was-there"]=this["webpackJsonpwho-was-there"]||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/scan.e159645e.svg"},20:function(e,t,a){e.exports=a.p+"static/media/close.279e71ba.svg"},25:function(e,t,a){e.exports=a.p+"static/media/more.9138e3d7.svg"},43:function(e,t,a){e.exports=a.p+"static/media/menu.5b81a5eb.svg"},45:function(e,t,a){e.exports=a.p+"static/media/phone.8e43a4b4.svg"},46:function(e,t,a){e.exports=a.p+"static/media/marker.28c0416e.svg"},47:function(e,t,a){e.exports=a.p+"static/media/remove.947d00bd.svg"},51:function(e,t,a){e.exports=a.p+"static/media/send.901a5971.svg"},56:function(e,t,a){e.exports=a(93)},61:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(41),l=a.n(c),i=(a(61),a(12)),o=a(1),s=a(97),m=a(26),u=a(42);m.a.use(u.a).init({resources:{de:{translations:{AppTitle:"QR Code Teilnehmererfassung","Clear data":"Zur\xfccksetzen","Generate code":"Code generieren","Create new data":"Neue Erfassung","Save the Image or make a screenshot to make the Code reusable.":"Speicher das Bild oder mache einen Screenshot um den Code weiter zu benutzen.","Fill out the form":"F\xfcll das Formular aus","First name":"Vorname","Last name":"Nachname",Start:"Start",Street:"Stra\xdfe",ZIP:"PLZ",City:"Stadt",Phone:"Telefon","Generate another code":"Weiteren Code generieren","Add customer":"Kunde hinzuf\xfcgen","Add customers":"Kunden hinzuf\xfcgen","Send summary":"Zusammenfassung senden",remove:"entfernen",Success:"Erfolgreich","Your summary has succesfully been send to":"Deine Zusammenfassung wurde erfolgreich versandt an","Scan again":"Nochmal scannen",Settings:"Einstellungen","E-mail adress":"E-Mail-Adresse","Custom fields":"Zusatzfelder",Add:"+","Start scanning":"Scannen starten",Customer:"Kunde",Customers:"Kunden","New data has been submitted on":"Neuer Eintrag wurde gemacht am"}}},fallbackLng:"en",debug:!0,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});var d=m.a,f=a(3),E=a(4),p=a(43),g=a.n(p),b=a(20),v=a.n(b);function h(e){var t=e.children,a=Object(n.useState)(!1),c=Object(f.a)(a,2),l=c[0],o=c[1];return r.a.createElement("div",{id:"Layout"},r.a.createElement("div",{id:"Header"},d.t("AppTitle"),r.a.createElement("div",{id:"MenuButton",onClick:function(){return o(!0)}},r.a.createElement("img",{src:g.a,alt:"Menu"}))),r.a.createElement(E.a,null,l&&r.a.createElement(E.b.div,{transition:{ease:"easeOut",duration:.2},initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},id:"Menu"},r.a.createElement("img",{src:v.a,onClick:function(){return o(!1)},alt:"close",className:"close"}),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{onClick:function(){return o(!1)},to:"/"},d.t("Start"))),r.a.createElement("li",null,r.a.createElement(i.b,{onClick:function(){return o(!1)},to:"/settings"},d.t("Settings"))),r.a.createElement("li",null,r.a.createElement(i.b,{onClick:function(){return o(!1)},to:"/scan"},d.t("Create new data"))),r.a.createElement("li",null,r.a.createElement(i.b,{onClick:function(){return o(!1)},to:"/generate"},d.t("Generate code"))),r.a.createElement("li",{onClick:function(){localStorage.removeItem("email"),localStorage.removeItem("customValues"),window.location.reload()}}," ",d.t("Clear data"))))),r.a.createElement("div",{id:"Content"},t))}var S=a(25),N=a.n(S),y=a(45),C=a.n(y),O=a(46),k=a.n(O);function x(e){var t=e.index,a=e.data,c=e.remove,l=Object(n.useState)(!1),i=Object(f.a)(l,2),o=i[0],s=i[1];return r.a.createElement(E.a,null,r.a.createElement(E.b.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},className:"customer",onClick:function(e){s(!o)}},r.a.createElement("div",{className:"head"},t+1,". ",a.firstname," ",a.lastname,r.a.createElement("div",{className:"more"},o&&r.a.createElement("img",{src:N.a,alt:"more",className:"less-img"}),!o&&r.a.createElement("img",{src:N.a,alt:"more",className:"more-img"})),o&&r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"adress"},r.a.createElement("img",{src:k.a,alt:"Marker"}),r.a.createElement("div",null,a.street,r.a.createElement("br",null),a.zip," ",a.city)),r.a.createElement("div",{className:"phone"},r.a.createElement("img",{src:C.a,alt:"Marker"}),r.a.createElement("div",null,a.phone)),r.a.createElement("div",{className:"remove",onClick:function(e){return c(t)}},d.t("remove"))))))}function j(){return r.a.createElement("div",{id:"Loader"},r.a.createElement("svg",{version:"1.1",id:"L2",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 100 100",enableBackground:"new 0 0 100 100"},r.a.createElement("circle",{fill:"none",stroke:"#000",strokeWidth:"4",strokeMiterlimit:"10",cx:"50",cy:"50",r:"48"}),r.a.createElement("line",{fill:"none",strokeLinecap:"round",stroke:"#000",strokeWidth:"4",strokeMiterlimit:"10",x1:"50",y1:"50",x2:"85",y2:"50.5",transform:"rotate(292.226 50 50)"},r.a.createElement("animateTransform",{attributeName:"transform",dur:"2s",type:"rotate",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})),r.a.createElement("line",{fill:"none",strokeLinecap:"round",stroke:"#000",strokeWidth:"4",strokeMiterlimit:"10",x1:"50",y1:"50",x2:"49.5",y2:"74",transform:"rotate(182.963 50 50)"},r.a.createElement("animateTransform",{attributeName:"transform",dur:"15s",type:"rotate",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"}))))}var w=a(21),F=a(13),z=a.n(F),I=a(47),L=a.n(I);function M(){var e=Object(o.f)(),t=Object(n.useState)(localStorage.getItem("email")||""),a=Object(f.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),s=Object(f.a)(i,2),m=s[0],u=s[1],p=Object(n.useState)(JSON.parse(localStorage.getItem("customValues"))||[]),g=Object(f.a)(p,2),b=g[0],v=g[1];return r.a.createElement("div",{id:"Settings",className:"container"},r.a.createElement("h1",null,d.t("Settings")),r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"Email"},d.t("E-mail adress")),r.a.createElement("input",{value:c,id:"Email",type:"email",name:"email",onChange:function(e){return l(e.target.value)}})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"CustomFields"},d.t("Custom fields")),r.a.createElement("div",{className:"flex"},r.a.createElement("input",{value:m,id:"CustomFields",type:"text",name:"custom-fields",onChange:function(e){return u(e.target.value)}}),r.a.createElement("button",{onClick:function(){m&&(v([].concat(Object(w.a)(b),[m])),u(""))},className:"btn add"},d.t("Add")))),r.a.createElement("div",{className:"custom-values"},r.a.createElement(E.a,null,b&&b.map((function(e,t){return r.a.createElement(E.b.div,{key:t,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},className:"custom-value"},e,r.a.createElement("div",{className:"remove",onClick:function(){return function(e){v((function(t){return t.filter((function(t,a){return a!==e}))}))}(t)}},r.a.createElement("img",{src:L.a,alt:"remove"})))}))))),c&&r.a.createElement(E.b.div,{className:"item",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1}}},r.a.createElement("button",{onClick:function(){localStorage.setItem("email",c),localStorage.setItem("customValues",JSON.stringify(b)),e.push("/scan")},className:"btn bottom"},r.a.createElement("img",{src:z.a,alt:"scan"}),d.t("Start scanning"))))}var A=a(5),P=a(14),T=a(48),Z=a.n(T),G=a(50),J=a.n(G),B={mail:"https://mail.westhofen.me/mail.php",title:"QR code participation system"},V=a(51),W=a.n(V);function D(){var e=Object(o.f)(),t=Object(n.useState)([]),a=Object(f.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)({}),s=Object(f.a)(i,2),m=s[0],u=s[1],p=Object(n.useState)(!1),g=Object(f.a)(p,2),b=g[0],h=g[1],S=Object(n.useState)([{}]),N=Object(f.a)(S,2),y=N[0],C=N[1],O=Object(n.useState)(!1),k=Object(f.a)(O,2),F=k[0],I=k[1];function L(e){C((function(t){return t.filter((function(t,a){return a!==e}))}))}return Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("customValues"));l(t),t||e.push("/"),t&&t.forEach((function(e){u((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(A.a)({},e,""))}))}))}),[e]),r.a.createElement("div",{id:"Scan",className:"container"},F&&r.a.createElement(j,null),r.a.createElement("h1",null," ",d.t("Add customers")),r.a.createElement("div",{className:"form"},c&&c.map((function(e,t){return r.a.createElement("div",{key:t,className:"input-group"},r.a.createElement("label",null,e),r.a.createElement("input",{name:e,type:"text",onChange:function(e){return function(e){var t=e.target;u((function(e){return Object(P.a)(Object(P.a)({},e),{},Object(A.a)({},t.name,t.value))}))}(e)},value:m[e]}))})),r.a.createElement("div",{className:"customers"},y&&y.map((function(e,t){return r.a.createElement(x,{key:t,data:e,index:t,remove:L})}))),r.a.createElement("button",{className:"btn",onClick:function(){return h(!0)}},r.a.createElement("img",{src:z.a,alt:"scan"}),d.t("Add customer"))," ",r.a.createElement(E.a,null,b&&r.a.createElement(E.b.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"qr-wrapper"},r.a.createElement(Z.a,{delay:1e3,onError:function(){alert("Error while scanning.")},onScan:function(e){e&&function(e){if(!e)return;C([].concat(Object(w.a)(y),[e])),h(!1)}(JSON.parse(e))},style:{width:"100%"}}),r.a.createElement("img",{src:v.a,onClick:function(){return h(!1)},className:"close",alt:"close"})))),y.length?r.a.createElement("button",{onClick:function(t){return function(){I(!0);var t="<strong>"+d.t("Custom fields")+": </strong><br />",a="<strong>"+d.t("Customers")+": </strong><br />";Object.keys(m).forEach((function(e){t+=e+": "+m[e]+"<br />"})),y.forEach((function(e,t){a+=d.t("Customer")+" #"+(t+1)+"<br />",a+=d.t("First name")+": "+e.firstname+"<br />",a+=d.t("Last name")+": "+e.lastname+"<br />",a+=d.t("Street")+":"+e.street+"<br />",a+=d.t("ZIP")+":"+e.zip+"<br />",a+=d.t("City")+": "+e.city+"<br />",a+=d.t("Phone")+": "+e.phone+"<br /><br />"}));var n=new Date,r={email:localStorage.getItem("email"),customers:a,values:t,title:d.t("New data has been submitted on")+" "+n.toLocaleDateString()+" | "+n.toLocaleTimeString(),date:n.toLocaleDateString()+" | "+n.toLocaleTimeString()};J.a.post(B.mail,{data:r}).then((function(t){console.log(t),I(!1),e.push("/success")})).catch((function(e){I(!1),e.response?alert(e.response.data):console.log(e)}))}()},className:"btn bottom"},r.a.createElement("img",{src:W.a,alt:"send"}),d.t("Send summary")):"")}var K=a(52),R=a.n(K);function Q(){var e=Object(n.useState)({firstname:"",lastname:"",street:"",zip:"",city:"",phone:""}),t=Object(f.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),i=Object(f.a)(l,2),o=i[0],s=i[1];Object(n.useEffect)((function(){}),[o]);var m=Object(n.useState)(!1),u=Object(f.a)(m,2),p=u[0],g=u[1];function b(e){var t=e.target,n=t.name,r=t.value;c(Object(P.a)(Object(P.a)({},a),{},Object(A.a)({},n,r))),r&&s((function(e){return e.filter((function(e){return e!==n}))}))}function v(e){if(o&&o.find((function(t){return t===e})))return"error"}return r.a.createElement("div",{id:"Generate",className:"container"},r.a.createElement(E.a,null,p&&r.a.createElement(E.b.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"generate-wrapper"},r.a.createElement(R.a,{size:200,value:JSON.stringify(a)}),r.a.createElement("div",null,d.t("Save the Image or make a screenshot to make the Code reusable.")),r.a.createElement("button",{onClick:function(e){return g(!1),void c({firstname:"",lastname:"",street:"",zip:"",city:"",phone:""})},className:"btn bottom"},r.a.createElement("img",{src:z.a,alt:"scan"}),d.t("Generate another code")))),r.a.createElement("h1",null,d.t("Fill out the form")),r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=[];Object.keys(a).forEach((function(e){a[e]&&""!==a[e]||t.push(e)})),s(t),console.log(t),t.length>0||g(!0)}(e)},autoComplete:"on"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"Firstname"},d.t("First name")),r.a.createElement("input",{value:a.firstname,id:"Firstname",autoComplete:"given-name",type:"text",name:"firstname",className:v("firstname"),onChange:function(e){return b(e)}})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"Lastname"},d.t("Last name")),r.a.createElement("input",{value:a.lastname,autoComplete:"family-name",id:"Lastname",type:"text",name:"lastname",className:v("lastname"),onChange:function(e){return b(e)}})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"Street"},d.t("Street")),r.a.createElement("input",{value:a.street,id:"Street",type:"text",name:"street",className:v("street"),onChange:function(e){return b(e)}})),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"input-group",style:{width:"100px",marginRight:"1rem"}},r.a.createElement("label",{htmlFor:"zip"},d.t("ZIP")),r.a.createElement("input",{value:a.zip,id:"zip",type:"number",name:"zip",className:v("zip"),onChange:function(e){return b(e)},autoComplete:"postal-code"})),r.a.createElement("div",{className:"input-group",style:{flexGrow:2}},r.a.createElement("label",{htmlFor:"City"},d.t("City")),r.a.createElement("input",{value:a.city,id:"City",type:"text",name:"city",className:v("city"),onChange:function(e){return b(e)}}))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"Phone"},d.t("Phone")),r.a.createElement("input",{value:a.phone,id:"Phone",type:"tel",autoComplete:"tel",name:"phone",className:v("phone"),onChange:function(e){return b(e)}})),r.a.createElement("button",{type:"submit",className:"btn bottom"},r.a.createElement("img",{src:z.a,alt:"scan"}),d.t("Generate code")))))}function Y(){return r.a.createElement("div",{id:"Success",className:"container"},r.a.createElement("h1",null,d.t("Success"),"!"),r.a.createElement("div",null,d.t("Your summary has succesfully been send to")," ",r.a.createElement("span",{className:"email"},localStorage.getItem("email"))),r.a.createElement(i.b,{to:"/scan",className:"btn bottom"},r.a.createElement("img",{src:z.a,alt:"scan"}),d.t("Scan again")))}var q=function(){var e=localStorage.getItem("email");return r.a.createElement(s.a,{i18n:d},r.a.createElement(i.a,null,r.a.createElement(h,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/success",component:Y}),r.a.createElement(o.a,{path:"/scan",component:D}),r.a.createElement(o.a,{path:"/generate",component:Q}),r.a.createElement(o.a,{path:"/settings",component:M}),e&&r.a.createElement(o.a,{path:"/",component:D}),r.a.createElement(o.a,{path:"/",component:M})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.7d7db65e.chunk.js.map